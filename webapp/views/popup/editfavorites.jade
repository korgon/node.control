h1.popup Edit Favorites
hr(style='margin-bottom: 20px;')
div#pop_dragzone(style='position: relative; width: 475px; height: 372px; padding: 20px; background-color: #000;')
	div(style='position: relative; width: 75px; height: 370px; float: left;')

		div#pop_actuators.tab(style='position: absolute; width: 72px; height: 372px; top: 0px; border-radius: 9px;')
			div#pop_actuators_scrollup(style='position: relative; width: 72px; height: 36px; background-image: url("/images/icons/dark_up.png"); background-repeat:no-repeat;	background-position:center; opacity: .1;')
			div#pop_actuators_slots(style='position: relative; width: 72px; height: 300px;')
			div#pop_actuators_scrolldown(style='position: relative; width: 72px; height: 36px; background-image: url("/images/icons/dark_down.png"); background-repeat:no-repeat;	background-position:center; opacity: .1;')





	div#pop_dropzone(style='position: relative; width: 400px; height: 372px; float: left;')
		div#pop_star.bigcirc(style='width: 100px; height: 100px; background-image: url("/images/icons/dark_star.png"); background-repeat:no-repeat;	background-position:center; z-index: 0;')
		div#pop_slot1(style='position: absolute; width: 60px; height: 60px; top: 154px; left: 168px;	color: #eaeaea;	border: 2px dashed #fff;	border-radius: 999px; background-image: url("/images/icons/small_control.png"); background-repeat:no-repeat;	background-position:center;')
		div#pop_slot2(style='position: absolute; width: 60px; height: 60px; top: 154px; left: 168px;	color: #eaeaea;	border: 2px dashed #fff;	border-radius: 999px; background-image: url("/images/icons/small_control.png"); background-repeat:no-repeat;	background-position:center;')
		div#pop_slot3(style='position: absolute; width: 60px; height: 60px; top: 154px; left: 168px;	color: #eaeaea;	border: 2px dashed #fff;	border-radius: 999px; background-image: url("/images/icons/small_control.png"); background-repeat:no-repeat;	background-position:center;')
		div#pop_slot4(style='position: absolute; width: 60px; height: 60px; top: 154px; left: 168px;	color: #eaeaea;	border: 2px dashed #fff;	border-radius: 999px; background-image: url("/images/icons/small_control.png"); background-repeat:no-repeat;	background-position:center;')
		div#pop_slot5(style='position: absolute; width: 60px; height: 60px; top: 154px; left: 168px;	color: #eaeaea;	border: 2px dashed #fff;	border-radius: 999px; background-image: url("/images/icons/small_control.png"); background-repeat:no-repeat;	background-position:center;')
		div#pop_slot6(style='position: absolute; width: 60px; height: 60px; top: 154px; left: 168px;	color: #eaeaea;	border: 2px dashed #fff;	border-radius: 999px; background-image: url("/images/icons/small_control.png"); background-repeat:no-repeat;	background-position:center;')
		div#pop_slot7(style='position: absolute; width: 60px; height: 60px; top: 154px; left: 168px;	color: #eaeaea;	border: 2px dashed #fff; border-radius: 999px; background-image: url("/images/icons/small_control.png"); background-repeat:no-repeat;	background-position:center;')
div(style='padding-top: 20px;')
	hr

script.
	// arrays for holding sensors and actuators
	var tab_slots = 4;
	var actuator_array = [];
	var actuator_index = 0;

	// socket.io stuff
	// get actuators from server
	nodeio.emit('get:actuatordata');

	// position slots around center star and give data
	var slots = $("div[id^='pop_slot']").size();
	// find location of star...
	var star_x = $('#pop_star').offset().left;
	var star_y = $('#pop_star').offset().top - 3;
	var slot_index = 1;
	$("div[id^='pop_slot']").each(function() {
		// variables used in positioning
		$(this).data('favSlot', slot_index);
		var slot_angle = 2*Math.PI / slots * slot_index;
		var angleoffset = Math.PI/2;
		var total_angle = slot_angle + angleoffset;
		var pos_x = star_x + ($(this).width()+69)*Math.cos(total_angle);
		var pos_y = star_y + ($(this).height()+69)*Math.sin(total_angle);
		$(this).offset({"top": pos_y, "left": pos_x});
		slot_index++;
	});

	function addFavorite(event, ui) {
		// check if droppables have been emptied
		$(this).droppable('disable');
		// clone IF from pop_actuators (clone)
		if (ui.draggable.attr('id').match('pop_actuators_button'))
		{
			ui.helper.clone().attr('id', 'pop_fav' + $(this).data('favSlot')).insertAfter('#pop_star');
			$('#pop_fav' + $(this).data('favSlot')).position( { of: $(this), my: 'left top', at: 'left top' } ).css('z-index', 5);
			$('#pop_fav' + $(this).data('favSlot')).css('border', '1px solid #eaeaea').hover(function () {
				$(this).css('box-shadow', '0px 0px 55px 1px #666 inset, 0px 0px 6px #000');
			}, function () {
				$(this).css('box-shadow', '');
			});
			$('#pop_fav' + $(this).data('favSlot')).data('inFavSlot', $(this).data('favSlot'));
			$('#pop_fav' + $(this).data('favSlot')).draggable( {
				containment: '#pop_dragzone',
				stack: "div[id^='pop_fav']",
				revert: true,
				start: function(event, ui) {
					ui.helper.css('z-index', 33);
				},
				stop: function(e, ui) {
					ui.helper.css('z-index', 5);
				}
			});
		} else {	// from favSlot
			ui.draggable.position( { of: $(this), my: 'left top', at: 'left top' } )
			// re-enable slot
			$("#pop_slot" + ui.draggable.data('inFavSlot')).droppable('enable');
			ui.draggable.data('inFavSlot', $(this).data('favSlot'));
		}
		ui.draggable.draggable( 'option', 'revert', false );
		$('#data').append(' added ');
		setTimeout(function() {ui.draggable.draggable('option', 'revert', true);}, 100);
	}
